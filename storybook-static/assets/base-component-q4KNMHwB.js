class c extends HTMLElement{constructor(){var e;super(),this.attachShadow({mode:"open"}),this._eventTargets=[],this._isConnected=!1,this._isInitialized=!1,this._debugMode=this.hasAttribute("debug")||((e=window.MyntUI)==null?void 0:e.debug),this.handleAttributeChange=this.handleAttributeChange.bind(this),this.handleResize=this.handleResize.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.createRipple=this.createRipple.bind(this),this.log=this._createLogger(),this._initializeComponent()}static get observedAttributes(){return["disabled","size","variant","loading","error","debug"]}attributeChangedCallback(e,t,i){this._isInitialized&&t!==i&&(this.log("Attribute changed:",{name:e,oldValue:t,newValue:i}),this.handleAttributeChange(e,t,i),this.requestUpdate())}get disabled(){return this.hasAttribute("disabled")}set disabled(e){this.toggleAttribute("disabled",!!e)}get loading(){return this.hasAttribute("loading")}set loading(e){this.toggleAttribute("loading",!!e)}get error(){return this.hasAttribute("error")}set error(e){this.toggleAttribute("error",!!e)}get size(){return this.getAttribute("size")||"md"}set size(e){this.setAttribute("size",e)}get variant(){return this.getAttribute("variant")||"default"}set variant(e){this.setAttribute("variant",e)}handleAttributeChange(e,t,i){this.log("Base attribute change handler:",{name:e,oldValue:t,newValue:i})}handleResize(){this.log("Resize event handled")}handleKeyDown(e){e.key==="Escape"&&this.dispatchEvent(new CustomEvent("escape",{bubbles:!0}))}handleFocus(){this.classList.add("focused")}handleBlur(){this.classList.remove("focused")}createRipple(e,t){if(this.disabled||this.loading)return;const i=t||this.shadowRoot.querySelector(".ripple-container")||this.shadowRoot.firstElementChild;if(!i)return;i.querySelectorAll(".ripple").forEach(l=>l.remove());const s=document.createElement("span");s.classList.add("ripple");const n=i.getBoundingClientRect(),a=Math.max(n.width,n.height),o=a/2;let h,d;e&&e.clientX!==void 0?(h=e.clientX-n.left-o,d=e.clientY-n.top-o):(h=n.width/2-o,d=n.height/2-o),s.style.cssText=`
      position: absolute;
      width: ${a}px;
      height: ${a}px;
      left: ${h}px;
      top: ${d}px;
      border-radius: 50%;
      transform: scale(0);
      animation: ripple-animation var(--_global-ripple-duration) var(--_global-ripple-easing);
      background-color: var(--_global-ripple-color-light);
      opacity: var(--_global-ripple-opacity-pressed);
      pointer-events: none;
      z-index: 1;
    `,i.appendChild(s),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},600)}addEventListeners(e){e.forEach(({element:t,events:i,handler:r,options:s={}})=>{i.forEach(n=>{t.addEventListener(n,r,s),this._eventTargets.push({element:t,event:n,handler:r,options:s})})})}removeEventListeners(){this._eventTargets.forEach(({element:e,event:t,handler:i,options:r})=>{e.removeEventListener(t,i,r)}),this._eventTargets=[]}emit(e,t={},i={}){const r={bubbles:!0,cancelable:!0,composed:!0},s=new CustomEvent(e,{detail:t,...r,...i});return this.log("Emitting event:",{eventName:e,detail:t,options:i}),this.dispatchEvent(s)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,requestAnimationFrame(()=>{this._updateRequested=!1,this._isConnected&&(this.render(),this.attachEventListeners())}))}render(){throw new Error("render() method must be implemented by child components")}attachEventListeners(){this.log("Base attachEventListeners called - should be overridden")}addClass(e){this.classList.add(e)}removeClass(e){this.classList.remove(e)}toggleClass(e,t){this.classList.toggle(e,t)}hasClass(e){return this.classList.contains(e)}setCSSProperty(e,t){this.style.setProperty(e,t)}getCSSProperty(e){return getComputedStyle(this).getPropertyValue(e)}animate(e,t={}){return window.matchMedia("(prefers-reduced-motion: reduce)").matches?Promise.resolve():this.animate(e,{duration:300,easing:"ease-out",...t}).finished}focusFirstElement(){const e=this.shadowRoot.querySelector('[tabindex]:not([tabindex="-1"]), button, input, select, textarea, [href]');e&&e.focus()}announceToScreenReader(e,t="polite"){const i=document.createElement("div");i.setAttribute("aria-live",t),i.setAttribute("aria-atomic","true"),i.style.cssText="position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;",i.textContent=e,document.body.appendChild(i),setTimeout(()=>document.body.removeChild(i),1e3)}_initializeComponent(){try{this._isInitialized=!0,this.log("Component initialized")}catch(e){this.log("Error during initialization:",e),this._handleError(e,"initialization")}}connectedCallback(){var e;this._isConnected=!0,this.log("Component connected to DOM");try{this._setupIntersectionObserver(),this.requestUpdate(),(e=this.onConnected)==null||e.call(this)}catch(t){this.log("Error during connection:",t),this._handleError(t,"connection")}}disconnectedCallback(){var e;this._isConnected=!1,this.log("Component disconnected from DOM");try{this.removeEventListeners(),this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=null),(e=this.onDisconnected)==null||e.call(this)}catch(t){this.log("Error during disconnection:",t),this._handleError(t,"disconnection")}}adoptedCallback(){var e;this.log("Component moved to new document"),(e=this.onAdopted)==null||e.call(this)}_setupIntersectionObserver(){"IntersectionObserver"in window&&(this._intersectionObserver=new IntersectionObserver(e=>{e.forEach(t=>{var i,r;t.isIntersecting?(i=this.onEnterViewport)==null||i.call(this,t):(r=this.onExitViewport)==null||r.call(this,t)})},{threshold:[0,.1,.5,1]}),this._intersectionObserver.observe(this))}_handleError(e,t){this.log("Error occurred:",{error:e,context:t}),this.emit("error",{error:e.message,context:t,component:this.tagName.toLowerCase()}),this.error=!0}_createLogger(){const e=this.constructor.name||this.tagName.toLowerCase();return(...t)=>{this._debugMode&&console.log(`[${e}]`,...t)}}validateAttribute(e,t,i){return typeof i=="function"?i(t):Array.isArray(i)?i.includes(t):i instanceof RegExp?i.test(t):!0}measurePerformance(e,t){if(!this._debugMode)return t();const i=performance.now(),r=t(),s=performance.now();return this.log(`Performance [${e}]:`,`${(s-i).toFixed(2)}ms`),r}applyTheme(e){Object.entries(e).forEach(([t,i])=>{this.setCSSProperty(t,i)})}static define(e){customElements.get(e)||customElements.define(e,this)}}window.MyntUI=window.MyntUI||{};window.MyntUI.BaseComponent=c;export{c as M};
